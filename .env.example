# ============================================================
# Evolution API — Environment Variables
# Copy this file to .env and customise as needed
# ============================================================

# ---- Server ----
SERVER_URL=http://localhost:8080
SERVER_PORT=8080
SERVER_TYPE=http

# ---- Authentication ----
# Generate a strong random key:  openssl rand -hex 16
AUTHENTICATION_API_KEY=CHANGE_ME_GENERATE_A_SECURE_KEY
AUTHENTICATION_EXPOSE_IN_FETCH_INSTANCES=true

# ---- Database (PostgreSQL — required) ----
DATABASE_PROVIDER=postgresql
DATABASE_CONNECTION_URI=postgresql://postgres:password@localhost:5432/evolution?schema=public
DATABASE_CONNECTION_CLIENT_NAME=evolution_railway

# ---- What to persist in DB ----
DATABASE_SAVE_DATA_INSTANCE=true
DATABASE_SAVE_DATA_NEW_MESSAGE=false
DATABASE_SAVE_MESSAGE_UPDATE=false
DATABASE_SAVE_DATA_CONTACTS=false
DATABASE_SAVE_DATA_CHATS=false
DATABASE_SAVE_DATA_LABELS=false
DATABASE_SAVE_DATA_HISTORIC=false
DATABASE_SAVE_IS_ON_WHATSAPP=false
DATABASE_SAVE_IS_ON_WHATSAPP_DAYS=7
DATABASE_DELETE_MESSAGE=false

# ---- Logging (keep minimal for Railway free tier) ----
LOG_LEVEL=ERROR,WARN
LOG_COLOR=true
LOG_BAILEYS=error

# ---- Instance limits ----
DEL_INSTANCE=false
EVENT_EMITTER_MAX_LISTENERS=20

# ---- CORS ----
CORS_ORIGIN=*
CORS_METHODS=GET,POST,PUT,DELETE
CORS_CREDENTIALS=true

# ---- Redis Cache (optional — disable to save RAM) ----
CACHE_REDIS_ENABLED=false
CACHE_REDIS_URI=redis://localhost:6379/6
CACHE_REDIS_TTL=604800
CACHE_REDIS_PREFIX_KEY=evolution
CACHE_REDIS_SAVE_INSTANCES=false

# ---- Local cache (enable when Redis is off) ----
CACHE_LOCAL_ENABLED=true

# ---- QR Code ----
QRCODE_LIMIT=30
QRCODE_COLOR=#175197
CONFIG_SESSION_PHONE_CLIENT=Evolution API
CONFIG_SESSION_PHONE_NAME=Chrome

# ---- Webhooks (configure per-instance or globally) ----
WEBHOOK_GLOBAL_ENABLED=false
WEBHOOK_GLOBAL_URL=
WEBHOOK_GLOBAL_WEBHOOK_BY_EVENTS=false
WEBHOOK_EVENTS_APPLICATION_STARTUP=false
WEBHOOK_EVENTS_QRCODE_UPDATED=true
WEBHOOK_EVENTS_MESSAGES_UPSERT=true
WEBHOOK_EVENTS_MESSAGES_UPDATE=true
WEBHOOK_EVENTS_SEND_MESSAGE=true
WEBHOOK_EVENTS_CONNECTION_UPDATE=true

# ---- Integrations (all disabled by default) ----
TYPEBOT_ENABLED=false
CHATWOOT_ENABLED=false
OPENAI_ENABLED=false
DIFY_ENABLED=false
N8N_ENABLED=false
EVOAI_ENABLED=false

# ---- RabbitMQ (disabled) ----
RABBITMQ_ENABLED=false

# ---- S3 Storage (disabled) ----
S3_ENABLED=false

# ---- Telemetry ----
TELEMETRY_ENABLED=false

# ---- Prometheus Metrics (disabled) ----
PROMETHEUS_METRICS=false

# ---- Language ----
LANGUAGE=en
